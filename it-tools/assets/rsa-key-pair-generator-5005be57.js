import{d as v,n as P,p as h,o as k,f as x,g as o,k as r,w as u,i as a,x as g,at as K,l as w,F as C,m as B}from"./index-e90ef3de.js";import{l as m}from"./index-09490cb0.js";import{T as c}from"./TextareaCopyable-6af09a23.js";import{a as R}from"./defaults-4d6daddf.js";import{a as T}from"./computedRefreshable-1f51a020.js";import{_ as V}from"./InputNumber-385d5423.js";import{_ as A}from"./FormItem-063608ad.js";import"./___vite-browser-external_commonjs-proxy-e39079f0.js";import"./Copy-589a9d7a.js";import"./Scrollbar-6da86440.js";import"./use-locale-a436c29b.js";import"./use-form-item-76098b35.js";import"./Input-c4aaa7cf.js";import"./Button-8fb01cf9.js";import"./is-browser-fc34c9a6.js";import"./color-to-class-b0332f36.js";import"./Remove-76bc3fb1.js";const N=""+new URL("prime.worker.min-e367bd53.js",import.meta.url).href;function E({bits:i=2048}){return new Promise((e,t)=>m.pki.rsa.generateKeyPair({bits:i,workerScript:N},(n,s)=>{if(n){t(n);return}e(s)}))}async function F(i={}){const{privateKey:e,publicKey:t}=await E(i);return{publicKeyPem:m.pki.publicKeyToPem(t),privateKeyPem:m.pki.privateKeyToPem(e)}}const U={style:{flex:"0 0 100%"}},j={"item-style":"flex: 1 1 0",style:{"max-width":"600px"},"mx-auto":"",flex:"","gap-3":""},D=o("h3",null,"Public key",-1),L=o("h3",null,"Private key",-1),oe=v({__name:"rsa-key-pair-generator",setup(i){const e=P(2048),t={publicKeyPem:"",privateKeyPem:""},{attrs:n}=h({source:e,rules:[{message:"Bits should be 256 <= bits <= 16384 and be a multiple of 8",validator:l=>l>=256&&l<=16384&&l%8===0}]}),[s,_]=T(()=>R(()=>F({bits:e.value}),t),t);return(l,p)=>{const f=V,d=A,y=B;return k(),x(C,null,[o("div",U,[o("div",j,[r(d,K({label:"Bits :"},a(n),{"label-placement":"left","label-width":"100"}),{default:u(()=>[r(f,{value:a(e),"onUpdate:value":p[0]||(p[0]=b=>g(e)?e.value=b:null),min:"256",max:"16384",step:"8"},null,8,["value"])]),_:1},16),r(y,{onClick:a(_)},{default:u(()=>[w(" Refresh key-pair ")]),_:1},8,["onClick"])])]),o("div",null,[D,r(c,{value:a(s).publicKeyPem},null,8,["value"])]),o("div",null,[L,r(c,{value:a(s).privateKeyPem},null,8,["value"])])],64)}}});export{oe as default};
